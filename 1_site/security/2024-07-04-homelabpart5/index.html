<!DOCTYPE html> <html lang="en-US"> <head> <meta charset="UTF-8"> <meta http-equiv="X-UA-Compatible" content="IE=Edge"> <link rel="stylesheet" href="/assets/css/just-the-docs-default.css"> <link rel="stylesheet" href="/assets/css/just-the-docs-head-nav.css" id="jtd-head-nav-stylesheet"> <style id="jtd-nav-activation"> .site-nav > ul:nth-of-type(2) > li > a, .site-nav > ul:nth-of-type(2) > li > ul > li:not(:nth-child(4)) > a, .site-nav > ul:nth-of-type(2) > li > ul > li > ul > li > a { background-image: none; } .site-nav > ul:not(:nth-of-type(2)) a, .site-nav li.external a { background-image: none; } .site-nav > ul:nth-of-type(2) > li:nth-child(1) > ul > li:nth-child(4) > a { font-weight: 600; text-decoration: none; } .site-nav > ul.nav-category-list > li > button svg, .site-nav > ul:nth-of-type(2) > li:nth-child(1) > button svg, .site-nav > ul:nth-of-type(2) > li:nth-child(1) > ul > li:nth-child(4) > button svg { transform: rotate(-90deg); } .site-nav > ul.nav-category-list > li.nav-list-item > ul.nav-list, .site-nav > ul:nth-of-type(2) > li.nav-list-item:nth-child(1) > ul.nav-list, .site-nav > ul:nth-of-type(2) > li.nav-list-item:nth-child(1) > ul.nav-list > li.nav-list-item:nth-child(4) > ul.nav-list { display: block; } </style> <script src="/assets/js/vendor/lunr.min.js"></script> <script src="/assets/js/just-the-docs.js"></script> <meta name="viewport" content="width=device-width, initial-scale=1"> <link rel="icon" href="/assets/favicon.ico" type="image/x-icon"> <!-- Begin Jekyll SEO tag v2.8.0 --> <title>Part 5 - Cyber Range setup | Home</title> <meta name="generator" content="Jekyll v4.3.3" /> <meta property="og:title" content="Part 5 - Cyber Range setup" /> <meta property="og:locale" content="en_US" /> <meta name="description" content="Network &amp; Security Home Lab:" /> <meta property="og:description" content="Network &amp; Security Home Lab:" /> <link rel="canonical" href="https://sigsandor.github.io/security/2024-07-04-homelabpart5/" /> <meta property="og:url" content="https://sigsandor.github.io/security/2024-07-04-homelabpart5/" /> <meta property="og:site_name" content="Home" /> <meta property="og:type" content="article" /> <meta property="article:published_time" content="2024-07-04T00:00:00-04:00" /> <meta name="twitter:card" content="summary" /> <meta property="twitter:title" content="Part 5 - Cyber Range setup" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"BlogPosting","dateModified":"2024-07-04T00:00:00-04:00","datePublished":"2024-07-04T00:00:00-04:00","description":"Network &amp; Security Home Lab:","headline":"Part 5 - Cyber Range setup","mainEntityOfPage":{"@type":"WebPage","@id":"https://sigsandor.github.io/security/2024-07-04-homelabpart5/"},"url":"https://sigsandor.github.io/security/2024-07-04-homelabpart5/"}</script> <!-- End Jekyll SEO tag --> </head> <body> <a class="skip-to-main" href="#main-content">Skip to main content</a> <svg xmlns="http://www.w3.org/2000/svg" class="d-none"> <symbol id="svg-link" viewBox="0 0 24 24"> <title>Link</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-link"> <path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path> </svg> </symbol> <symbol id="svg-menu" viewBox="0 0 24 24"> <title>Menu</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-menu"> <line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line> </svg> </symbol> <symbol id="svg-arrow-right" viewBox="0 0 24 24"> <title>Expand</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-chevron-right"> <polyline points="9 18 15 12 9 6"></polyline> </svg> </symbol> <!-- Feather. MIT License: https://github.com/feathericons/feather/blob/master/LICENSE --> <symbol id="svg-external-link" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-external-link"> <title id="svg-external-link-title">(external link)</title> <path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path><polyline points="15 3 21 3 21 9"></polyline><line x1="10" y1="14" x2="21" y2="3"></line> </symbol> <symbol id="svg-doc" viewBox="0 0 24 24"> <title>Document</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-file"> <path d="M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"></path><polyline points="13 2 13 9 20 9"></polyline> </svg> </symbol> <symbol id="svg-search" viewBox="0 0 24 24"> <title>Search</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-search"> <circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line> </svg> </symbol> <!-- Bootstrap Icons. MIT License: https://github.com/twbs/icons/blob/main/LICENSE.md --> <symbol id="svg-copy" viewBox="0 0 16 16"> <title>Copy</title> <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-clipboard" viewBox="0 0 16 16"> <path d="M4 1.5H3a2 2 0 0 0-2 2V14a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V3.5a2 2 0 0 0-2-2h-1v1h1a1 1 0 0 1 1 1V14a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V3.5a1 1 0 0 1 1-1h1v-1z"/> <path d="M9.5 1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-1a.5.5 0 0 1 .5-.5h3zm-3-1A1.5 1.5 0 0 0 5 1.5v1A1.5 1.5 0 0 0 6.5 4h3A1.5 1.5 0 0 0 11 2.5v-1A1.5 1.5 0 0 0 9.5 0h-3z"/> </svg> </symbol> <symbol id="svg-copied" viewBox="0 0 16 16"> <title>Copied</title> <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-clipboard-check-fill" viewBox="0 0 16 16"> <path d="M6.5 0A1.5 1.5 0 0 0 5 1.5v1A1.5 1.5 0 0 0 6.5 4h3A1.5 1.5 0 0 0 11 2.5v-1A1.5 1.5 0 0 0 9.5 0h-3Zm3 1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-1a.5.5 0 0 1 .5-.5h3Z"/> <path d="M4 1.5H3a2 2 0 0 0-2 2V14a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V3.5a2 2 0 0 0-2-2h-1v1A2.5 2.5 0 0 1 9.5 5h-3A2.5 2.5 0 0 1 4 2.5v-1Zm6.854 7.354-3 3a.5.5 0 0 1-.708 0l-1.5-1.5a.5.5 0 0 1 .708-.708L7.5 10.793l2.646-2.647a.5.5 0 0 1 .708.708Z"/> </svg> </symbol> </svg> <div class="side-bar"> <div class="site-header" role="banner"> <a href="/" class="site-title lh-tight"> Home </a> <button id="menu-button" class="site-button btn-reset" aria-label="Toggle menu" aria-pressed="false"> <svg viewBox="0 0 24 24" class="icon" aria-hidden="true"><use xlink:href="#svg-menu"></use></svg> </button> </div> <nav aria-label="Main" id="site-nav" class="site-nav"> <ul class="nav-list"><li class="nav-list-item"><a href="/CHANGELOG.html" class="nav-list-link">Changelog</a></li></ul> <div class="nav-category">Security</div> <ul class="nav-list"><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in Network & Security Home Lab category" aria-pressed="false"> <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg> </button><a href="/security/2024-05-15-homelabpart1/" class="nav-list-link">Network & Security Home Lab</a><ul class="nav-list"><li class="nav-list-item"><a href="/security/2024-05-16-homelabpart2/" class="nav-list-link">Part 2 - pfSense Setup & Configuration</a></li><li class="nav-list-item"><a href="/security/2024-05-16-homelabpart3/" class="nav-list-link">Part 3 - Parrot Security (Linux setup)</a></li><li class="nav-list-item"><a href="/security/2024-05-16-homelabpart4/" class="nav-list-link">Part 4 - pfSense Firewall configuration</a></li><li class="nav-list-item"><a href="/security/2024-07-04-homelabpart5/" class="nav-list-link">Part 5 - Cyber Range setup</a></li><li class="nav-list-item"><a href="/security/2024-07-15-homelabpart6/" class="nav-list-link">Part 6 - Active Directory Setup</a></li></ul></li><li class="nav-list-item"><a href="/security/2024-5-26-DMARC/" class="nav-list-link">Email Authentication: DMARC</a></li><li class="nav-list-item"><a href="/security/2024-06-18-KQLbasics/" class="nav-list-link">KQL basics</a></li><li class="nav-list-item"><a href="/security/2022-05-19-links/" class="nav-list-link">Useful Cybersecurity links</a></li></ul> <div class="nav-category">Networking</div> <ul class="nav-list"><li class="nav-list-item"><a href="/networking/2024-06-22-NetworkingProtocols/" class="nav-list-link">Networking 101</a></li></ul> <div class="nav-category">Personal</div> <ul class="nav-list"><li class="nav-list-item"><a href="/personal/2020-05-21-dusunre/" class="nav-list-link">Online History</a></li><li class="nav-list-item"><a href="/personal/2024-05-16-explorepics/" class="nav-list-link">Photo collection</a></li></ul> </nav> <footer class="site-footer"> This site uses <a href="https://github.com/just-the-docs/just-the-docs">Just the Docs</a>, a documentation theme for Jekyll. </footer> </div> <div class="main" id="top"> <div id="main-header" class="main-header"> <div class="search" role="search"> <div class="search-input-wrap"> <input type="text" id="search-input" class="search-input" tabindex="0" placeholder="Search Home" aria-label="Search Home" autocomplete="off"> <label for="search-input" class="search-label"><svg viewBox="0 0 24 24" class="search-icon"><use xlink:href="#svg-search"></use></svg></label> </div> <div id="search-results" class="search-results"></div> </div> <nav aria-label="Auxiliary" class="aux-nav"> <ul class="aux-nav-list"> <li class="aux-nav-list-item"> <a href="https://www.linkedin.com/in/alex-barkman-b7b26a186/" class="site-button" > Linkedin </a> </li> <li class="aux-nav-list-item"> <a href="https://github.com/sigSandor" class="site-button" > Github </a> </li> </ul> </nav> </div> <div class="main-content-wrap"> <nav aria-label="Breadcrumb" class="breadcrumb-nav"> <ol class="breadcrumb-nav-list"> <li class="breadcrumb-nav-list-item"><a href="/security/2024-05-15-homelabpart1/">Network & Security Home Lab</a></li> <li class="breadcrumb-nav-list-item"><span>Part 5 - Cyber Range setup</span></li> </ol> </nav> <div id="main-content" class="main-content"> <main> <h2 class="text-center" id="network--security-home-lab"> <a href="#network--security-home-lab" class="anchor-heading" aria-labelledby="network--security-home-lab"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Network &amp; Security Home Lab: </h2> <p><img src="/assets/banner.jpg" alt="banner" width="auto" height="auto" /></p> <h6 id="in-progress-june-24-2024"> <a href="#in-progress-june-24-2024" class="anchor-heading" aria-labelledby="in-progress-june-24-2024"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> in progress <strong><em>June 24, 2024</em></strong> </h6> <h3 class="text-center" id="part-5---cyber-range-setup"> <a href="#part-5---cyber-range-setup" class="anchor-heading" aria-labelledby="part-5---cyber-range-setup"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> <span style="color: orange; font-weight: bold;">Part 5 - Cyber Range setup</span> </h3> <h2 id="vm-1-metasploitable-2"> <a href="#vm-1-metasploitable-2" class="anchor-heading" aria-labelledby="vm-1-metasploitable-2"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> <span style="color: royalblue; font-weight: bold;">VM 1: Metasploitable 2</span> </h2> <blockquote> <p>For the Metasploitable 2 download,</p> </blockquote> <p>Go to: <a href="https://www.vulnhub.com/entry/metasploitable-2,29">Metasploitable: 2 ~ VulnHub</a></p> <p>You will have to open the <code class="language-plaintext highlighter-rouge">.ZIP</code> and look for the <code class="language-plaintext highlighter-rouge">.vmdk</code> to extract. It will be the largest file in the folder, and you should extract it to the same directory of your choosing.</p> <details> <summary> <span style="color: orange; font-weight: bold;">Image Ref. (click me!)</span> </summary> <p><img src="/assets/vbox101.png" alt="vbox101" /></p> </details> <h3 id="creating-the-metasploitable-20-vm"> <a href="#creating-the-metasploitable-20-vm" class="anchor-heading" aria-labelledby="creating-the-metasploitable-20-vm"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> <span style="color: royalblue; font-weight: bold;">Creating the Metasploitable 2.0 VM</span> </h3> <ul> <li> <p>Launch VirtualBox. Then click on <code class="language-plaintext highlighter-rouge">New</code> from the toolbar.</p> </li> <li> <p>Input the name as “Metasploitable 2.0”, and make sure that the Folder location is set where the rest of the VMs for the Home Lab are going to be saved.</p> </li> </ul> <p><em>Leave the ISO Image option empty.</em></p> <ul> <li>Select the <code class="language-plaintext highlighter-rouge">Linux Debian (64 bit)</code> as shown below and then click on <code class="language-plaintext highlighter-rouge">Next</code>.</li> </ul> <details> <summary> <span style="color: orange; font-weight: bold;">Image Ref. (click me!)</span> </summary> <p><img src="/assets/vbox102.png" alt="vbox102" /></p> </details> <p>On the next page,</p> <ul> <li>Reduce the Memory to 1024MB and click on <code class="language-plaintext highlighter-rouge">Next</code>.</li> </ul> <details> <summary> <span style="color: orange; font-weight: bold;">Image Ref. (click me!)</span> </summary> <p><img src="/assets/vbox103.png" alt="vbox103" /></p> </details> <p>Next, Select <strong><em>“Do Not Add a Virtual Hard Disk”</em></strong> and click on <code class="language-plaintext highlighter-rouge">Next</code>.</p> <details> <summary> <span style="color: orange; font-weight: bold;">Image Ref. (click me!)</span> </summary> <p><img src="/assets/vbox104.png" alt="vbox104" /></p> </details> <p>The <code class="language-plaintext highlighter-rouge">.vmdk</code> file we downloaded is the Hard Disk, so no need to create one. All we have to do is attach it.</p> <ul> <li>Confirm that everything looks correct and click on <code class="language-plaintext highlighter-rouge">Finish</code>.</li> </ul> <details> <summary> <span style="color: orange; font-weight: bold;">Image Ref. (click me!)</span> </summary> <p><img src="/assets/vbox105.png" alt="vbox105" /></p> </details> <ul> <li>You will get a Warning as shown in the below image. Ignore it and click on <code class="language-plaintext highlighter-rouge">Continue</code>.</li> </ul> <details> <summary> <span style="color: orange; font-weight: bold;">Image Ref. (click me!)</span> </summary> <p><img src="/assets/vbox106.png" alt="vbox106" /></p> </details> <h3 id="adding-vm-to-group"> <a href="#adding-vm-to-group" class="anchor-heading" aria-labelledby="adding-vm-to-group"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> <span style="color: royalblue; font-weight: bold;">Adding VM to Group</span> </h3> <blockquote> <p>Right-click on the Metasploitable VM. Select Move to Group -&gt; [New].</p> </blockquote> <blockquote> <p>Right-click on the group that is created and select Rename Group. Call the group Cyber Range.</p> </blockquote> <details> <summary> <span style="color: orange; font-weight: bold;">Image Ref. (click me!)</span> </summary> <p><img src="/assets/vbox107.png" alt="vbox107" /></p> </details> <ul> <li>The output should look as follows:</li> </ul> <p><img src="/assets/vbox108.png" alt="vbox108" /></p> <blockquote> <p>Right-click on the Cyber Range group and select Move to Group -&gt; Home Lab.</p> </blockquote> <ul> <li>The final output should look as follows:</li> </ul> <p><img src="/assets/vbox109.png" alt="vbox109" /></p> <h3 id="configuring-the-vm"> <a href="#configuring-the-vm" class="anchor-heading" aria-labelledby="configuring-the-vm"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> <span style="color: royalblue; font-weight: bold;">Configuring the VM</span> </h3> <blockquote> <p>Select the Metasploitable 2.0 from the sidebar and then from the toolbar click on <code class="language-plaintext highlighter-rouge">Settings</code>.</p> </blockquote> <blockquote> <p>Go to Storage and select Controller: SATA then click on the small “Add Hard Disk” icon on the right.</p> </blockquote> <details> <summary> <span style="color: orange; font-weight: bold;">Image Ref. (click me!)</span> </summary> <p><img src="/assets/vbox110.png" alt="vbox110" /></p> </details> <p>This will open the Hard Disk Selector menu.</p> <blockquote> <p>Click on <code class="language-plaintext highlighter-rouge">Add</code> and then select the <code class="language-plaintext highlighter-rouge">.vmdk</code> file. Then click on the <code class="language-plaintext highlighter-rouge">Open</code> button to use the Hard Drive.</p> </blockquote> <p>If done correctly under Controller: SATA the Hard Disk will be visible.</p> <p><img src="/assets/vbox111.png" alt="vbox111" /></p> <blockquote> <p>Go to System -&gt; Motherboard. For Boot Order ensure that the Hard Disk is on the <em>top</em> followed by Optical. <em>Disable Floppy</em>.</p> </blockquote> <details> <summary> <span style="color: orange; font-weight: bold;">Image Ref. (click me!)</span> </summary> <p><img src="/assets/vbox112.png" alt="vbox112" /></p> </details> <p>Go to <code class="language-plaintext highlighter-rouge">Network</code> -&gt; <code class="language-plaintext highlighter-rouge">Adapter 1</code>. Change the Attacked to field to <code class="language-plaintext highlighter-rouge">Internal Network</code> and in Name select <code class="language-plaintext highlighter-rouge">LAN 1</code>. Click on <code class="language-plaintext highlighter-rouge">OK</code> to save the changes.</p> <details> <summary> <span style="color: orange; font-weight: bold;">Image Ref. (click me!)</span> </summary> <p><img src="/assets/vbox113.png" alt="vbox113" /></p> </details> <h3 id="testing-connectivity"> <a href="#testing-connectivity" class="anchor-heading" aria-labelledby="testing-connectivity"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> <span style="color: royalblue; font-weight: bold;">Testing Connectivity</span> </h3> <p>From the sidebar select Metasploitable 2 and then click on Start.</p> <p>Once the VM boots use the following credentials to log in.</p> <div class="language-scss highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">Username</span><span class="p">:</span> <span class="n">msfadmin</span>
<span class="n">Password</span><span class="o">:</span> <span class="n">msfadmin</span>
</code></pre></div></div> <details> <summary> <span style="color: orange; font-weight: bold;">Image Ref. (click me!)</span> </summary> <p><img src="/assets/vbox114.png" alt="vbox114" /></p> </details> <p>After login use the following command to check if we have an IP address:</p> <div class="language-scss highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">ip</span> <span class="nt">a</span> <span class="nt">l</span> <span class="nt">eth0</span>
</code></pre></div></div> <details> <summary> <span style="color: orange; font-weight: bold;">Image Ref. (click me!)</span> </summary> <p><img src="/assets/vbox115.png" alt="vbox115" /></p> </details> <p><img src="/assets/vbox118.png" alt="vbox118" /></p> <ul> <li>We can see that we have been assigned the IP 10.6.6.11 (IP may be different) which we know is inside the DHCP address range for the CYBER_RANGE interface.</li> </ul> <p>We can ping Google to test if we have an Internet connection.</p> <div class="language-scss highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">ping</span> <span class="nt">google</span><span class="nc">.com</span> <span class="nt">-c</span> <span class="nt">5</span>
</code></pre></div></div> <details> <summary> <span style="color: orange; font-weight: bold;">Image Ref. (click me!)</span> </summary> <p><img src="/assets/vbox116.png" alt="vbox116" /></p> </details> <h3 id="pinging-metasploitable-20---parrot"> <a href="#pinging-metasploitable-20---parrot" class="anchor-heading" aria-labelledby="pinging-metasploitable-20---parrot"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> <span style="color: royalblue; font-weight: bold;">Pinging Metasploitable 2.0 -&gt; Parrot</span> </h3> <h2 id="vm-2-chronos"> <a href="#vm-2-chronos" class="anchor-heading" aria-labelledby="vm-2-chronos"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> <span style="color: royalblue; font-weight: bold;">VM 2: Chronos</span> </h2> <blockquote> <p>For the Chronos download</p> </blockquote> <p>Go to : <a href="https://www.vulnhub.com/entry/chronos-1,735/">Chronos: 1 ~ VulnHub</a></p> <p>The downloaded file will be another <code class="language-plaintext highlighter-rouge">.ova</code> file.</p> <blockquote> <p>Move the .ova to the same directory we were using before.</p> </blockquote> <p><img src="/assets/vbox119.png" alt="vbox119" /></p> <h3 id="creating-the-vm"> <a href="#creating-the-vm" class="anchor-heading" aria-labelledby="creating-the-vm"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> <span style="color: royalblue; font-weight: bold;">Creating the VM</span> </h3> <blockquote> <p>From the VirtualBox sidebar select the Cyber Range group, then <code class="language-plaintext highlighter-rouge">File</code> -&gt; <code class="language-plaintext highlighter-rouge">Import</code>.</p> </blockquote> <p><img src="/assets/vbox120.png" alt="vbox120" /></p> <blockquote> <p>From the Import screen select the icon, select the .ova and hit <code class="language-plaintext highlighter-rouge">Next</code>.</p> </blockquote> <p><img src="/assets/vbox121.png" alt="vbox121" /></p> <p>From the next menu, we can change some of the configuration. You can change the name as you like. For <code class="language-plaintext highlighter-rouge">MAC Address Policy</code> ensure that <em>Generate new MAC addresses for all network adapters is selected</em>. If everything looks right click on <code class="language-plaintext highlighter-rouge">Finish</code>.</p> <p><img src="/assets/vbox122.png" alt="vbox122" /></p> <p class="warning">Importing can take a little while.</p> <h3 id="adding-vm-to-group-1"> <a href="#adding-vm-to-group-1" class="anchor-heading" aria-labelledby="adding-vm-to-group-1"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> <span style="color: royalblue; font-weight: bold;">Adding VM to Group</span> </h3> <blockquote> <p>Once the import is finished, right-click on the VM and then select <code class="language-plaintext highlighter-rouge">Move to Group</code> -&gt; <code class="language-plaintext highlighter-rouge">Home Lab/Cyber Range</code>.</p> </blockquote> <p>or</p> <blockquote> <p>Drag it into the Cyber range group</p> </blockquote> <p>The result result will be as follows:</p> <p><img src="/assets/vbox123.png" alt="vbox123" /></p> <h3 id="configuring-the-vm-1"> <a href="#configuring-the-vm-1" class="anchor-heading" aria-labelledby="configuring-the-vm-1"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> <span style="color: royalblue; font-weight: bold;">Configuring the VM</span> </h3> <p>Select the Chronos VM, then <code class="language-plaintext highlighter-rouge">Settings</code>.</p> <p>Go to <code class="language-plaintext highlighter-rouge">System</code> -&gt; <code class="language-plaintext highlighter-rouge">Motherboard</code>. For Boot Order ensure that <code class="language-plaintext highlighter-rouge">Hard Disk</code> is on the top followed by <code class="language-plaintext highlighter-rouge">Optical</code>. <code class="language-plaintext highlighter-rouge">Disable Floppy</code>.</p> <p><img src="/assets/vbox124.png" alt="vbox124" /></p> <p>Go to <code class="language-plaintext highlighter-rouge">Network</code> -&gt; <code class="language-plaintext highlighter-rouge">Adapter 1</code>. For the Attached to field select <code class="language-plaintext highlighter-rouge">Internal Network</code>, for name select <code class="language-plaintext highlighter-rouge">LAN 1</code>. Expand the Advanced settings option. From Adapter Type select <code class="language-plaintext highlighter-rouge">Paravirtualized Network (virtio-net)</code>. Click <code class="language-plaintext highlighter-rouge">OK</code> to save the changes.</p> <p><img src="/assets/vbox125.png" alt="vbox125" /></p> <h3 id="testing-connectivity-1"> <a href="#testing-connectivity-1" class="anchor-heading" aria-labelledby="testing-connectivity-1"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> <span style="color: royalblue; font-weight: bold;">Testing Connectivity</span> </h3> <p>Select the Chronos VM and from the toolbar select <code class="language-plaintext highlighter-rouge">Start</code>. Once the VM starts we should see the login screen. The credentials for this machine are not known so we cannot log in and check if it has been assigned an IP address.</p> <p>On the Kali Linux VM open the pfSense Web Portal. From the navigation bar select Status -&gt; DHCP Leases.</p> <p><img src="/assets/vbox126.png" alt="vbox126" /></p> <p>Under the Leases section, there should be an entry for Chronos. We can see that it has been assigned the IP 10.6.6.12.</p> <p class="warning">Adapter Type Selection You would have noticed that for the Metasploitable 2 VM we did not chose Paravirtualized Network. This VM is quite old and does not work properly on that Adapter. Windows VMs also don’t work on Paravirtualized Network Adapter. From a performance point of view Paravirtualized Network is the better choice. We don’t have a way to know in advance if a Linux VM will work on the Adapter. So what I recommend is to first select Paravirtualized Network booting up the VM and check if the network is working properly if not shutdown the VM and select a different Adapter.</p> <p>In the next module, we will begin configuring the Active Directory Lab.</p> <h3 id="home-lab-part-6"> <a href="#home-lab-part-6" class="anchor-heading" aria-labelledby="home-lab-part-6"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> <a href="/security/2024-07-04-homelabpart6/" class="btn btn-green">Home Lab Part 6</a> </h3> </main> </div> </div> <div class="search-overlay"></div> </div> </body> </html>
